\documentclass{article}
\usepackage[english]{babel}
\usepackage{fancyhdr}
\usepackage{enumitem}
\usepackage{listings}
\usepackage{tikz-qtree}
\usepackage{tikz-qtree-compat}

\usepackage[lastexercise,answerdelayed]{exercise}
%DeclareCaptionType{mytype}[Typename][List of mytype]
%\newenvironment{myenv}{}{}

\tikzset{edge from parent/.append style={->}}

\newcommand\ExTitle{The Lambda Calculus}

\newcommand\fullExTitle{Exercises \\ \ExTitle }
\newcommand\footerExTitle{\ExTitle -\  Exercises }

\pagestyle{fancy}
\fancyhead{} % clear all header fields
\renewcommand{\headrulewidth}{0pt} % no line in header area
\fancyfoot{} % clear all footer fields
\fancyfoot[LE,RO]{\thepage}           % page number in "outer" position of footer line
\fancyfoot[RE,LO]{\footerExTitle} % other info in "inner" position of footer line

\begin{document}
\begin{Huge}
	\begin{center}
	\fullExTitle
	\end{center}
\end{Huge}
\begin{Exercise}
Keeping in mind both alpha equivalence and how multiple heads are nested, choose an answer that is equivalent to the listed lambda term.
\begin{enumerate}
\item 
$\lambda xy.xz$
\begin{enumerate}
  \item 
  $\lambda xz.xz$
  \item
  $\lambda mn.mz$
  \item
  $\lambda z (\lambda.x.xz)$
  \end{enumerate}
  \item
  $\lambda xy.xxy$
  \begin{enumerate}
  \item 
  $\lambda mn.mnp$
   \item 
  $\lambda x.(\lambda y .xy)$
   \item 
  $\lambda a(\lambda b. aab)$
  \end{enumerate}
  \item
   $\lambda xyz. zx$
 \begin{enumerate}
  \item 
     $\lambda x.(\lambda y.(\lambda  z))$
   \item 
     $\lambda tos.st$
       \item 
     $\lambda mnp.mn$
  \end{enumerate}
   \end{enumerate}
 \end{Exercise}

\begin{Exercise}
Write out lambda calculus trees for the following expressions.
\begin{enumerate}
\item $\lambda x.\lambda y.xy $
\item $\lambda x..\lambda y.xy.\lambda z.yz$
\item $\lambda x.(.\lambda y.xy)(.\lambda z.yz)$
\end{enumerate}
\end{Exercise}
\begin{Exercise}
Write out the equivalent lambda calculus expression for the following trees.

\begin{tikzpicture}
\Tree [.$\lambda z$   [.$@$ $z$ [.$@$ x z ]  ] ]
\end{tikzpicture}
%https://pages.github-dev.cs.illinois.edu/cs421-haskell/web/handouts/lambda-calculus-activity.pdf
\begin{tikzpicture}
\Tree [.$\lambda z$  [.$@$  [ .$\lambda x$ [ .$@$ x [.$@$ z [.$\lambda y$   [.$@$ y z   ]] ]]]   [.$\lambda q$ q   ]  ] ]
\end{tikzpicture}
\end{Exercise}
\begin{Exercise}
Find the free variables 
What are the free variables? To which lambdas are bound variables bound? 

\begin{tikzpicture}
\Tree  [.$\lambda z$   [.$@$   
            [ .$\lambda x$
                    [ .$@$ x  z ] ] 
             [.$\lambda y$  
                    [.$@$  y z ] ]     ]
            ]
\node[below]at(current bounding box.south){ $\lambda z$.($\lambda x. xz$) ($\lambda y.yz$)   }  ;                      
\end{tikzpicture}
\begin{tikzpicture}
\Tree  [.$\lambda x$   [.$@$   
            [ .$\lambda x$
                    [ .$@$ x  z ] ] 
             [.$\lambda y$  
                    [.$@$  y z ] ]     ]
            ]
\node[below]at(current bounding box.south){ $\lambda x$.($\lambda x. xz$) ($\lambda y.yz$) } ;                    
\end{tikzpicture}
\begin{tikzpicture}
\Tree  [.$\lambda z$   [.$@$   
            [ .$\lambda x$
                    [ .$@$ x  z ] ] 
             [.$\lambda y$  
                    [.$@$  y z ] ]     ]
            ]
\node[below]at(current bounding box.south){$\lambda z$.($\lambda x. xz$) ($\lambda y.yz)$};
\end{tikzpicture}
\end{Exercise}
\begin{Exercise}
Using $\beta$ reduction etc., rewrite these expressions in normal form.
\begin{enumerate}
\item $(\lambda x.x) y$
\item $(\lambda x.x z) (\lambda y.y)$
\item $(\lambda x.x (\lambda x.y)) (\lambda z.z)$
\item $(\lambda x.(\lambda y.x)) y (\lambda z.z))$
\item $(\lambda x.x x) (\lambda x.x x)$
\end{enumerate}
\end{Exercise}

\begin{Exercise}
Rewrite, using Haskell and evaluate the following: 
\begin{enumerate}
\item $(\lambda x.x) 2$
\item $(\lambda x . (x*2) ) 4$
\item $ (\lambda x . (\lambda y. x*y) ) 3 \ 4$
\item$ (\lambda x . \lambda y .( if \ x < y \ then \ -1\  else\  if\  x\  ==\ y\  then\  0\  else\  1)) \ 3\  4$\\
(\textbf{\textit{Note:}} Use of if inside the lambda expression. )

\end{enumerate}
\end{Exercise}
\begin{Exercise}
Write a lambda version of the following functions: 
\begin{enumerate}
\item  \textbf{\textit{abs:}} which takes an Integer and returns the non-negative value. \\
e.g. abs -1 = 1, abs 4 = 4.
\item \textbf{\textit{mymax:}} which takes two numbers and returns the larger of the two \\
\item \textbf{\textit{mymin:}} which takes two numbers and returns the smaller of the two \\
\end{enumerate}
\end{Exercise}


\end{document}
